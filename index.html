<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PortalVR — Бронирование</title>
<style>
  /* Подключение шрифта Tactic Sans с GitHub */
  @font-face {
    font-family: 'TacticSans';
    src: url('https://raw.githubusercontent.com/jjjxxx2016-creator/PVVR/main/Tactic%20Sans/TacticSans-Reg.otf') format('opentype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }
  
  @font-face {
    font-family: 'TacticSans';
    src: url('https://raw.githubusercontent.com/jjjxxx2016-creator/PVVR/main/Tactic%20Sans/TacticSans-Bld.otf') format('opentype');
    font-weight: bold;
    font-style: normal;
    font-display: swap;
  }
  
  @font-face {
    font-family: 'TacticSans';
    src: url('https://raw.githubusercontent.com/jjjxxx2016-creator/PVVR/main/Tactic%20Sans/TacticSans-Lgt.otf') format('opentype');
    font-weight: 300;
    font-style: normal;
    font-display: swap;
  }
  
  @font-face {
    font-family: 'TacticSans';
    src: url('https://raw.githubusercontent.com/jjjxxx2016-creator/PVVR/main/Tactic%20Sans/TacticSans-Med.otf') format('opentype');
    font-weight: 500;
    font-style: normal;
    font-display: swap;
  }
  
  @font-face {
    font-family: 'TacticSans';
    src: url('https://raw.githubusercontent.com/jjjxxx2016-creator/PVVR/main/Tactic%20Sans/TacticSans-Blk.otf') format('opentype');
    font-weight: 900;
    font-style: normal;
    font-display: swap;
  }

  :root{
    --bg1:#06060a;
    --bg2:#0f0f13;
    --accent1:#ff004f;
    --accent2:#1e8cff;
    --card:#0f0f12;
    --input:#121212;
    --text:#eaeaea;
    --muted:#bdbdbd;
    
    /* Используем ваш шрифт */
    --font-primary: 'TacticSans', sans-serif;
  }
  
  /* Анимированный переливающийся фон */
  html,body{
    height:100%;
    margin:0;
    background: linear-gradient(-45deg, #ff004f, #1e8cff, #ff004f, #1e8cff);
    background-size: 400% 400%;
    animation: gradientShift 8s ease infinite;
    font-family: var(--font-primary);
    color:var(--text);
    font-size:16px;
  }
  
  @keyframes gradientShift {
    0% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
    100% {
      background-position: 0% 50%;
    }
  }
  
  .container{max-width:1100px;margin:28px auto;padding:20px;}
  header{display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:24px}
  
  /* Улучшенный стиль для логотипа */
  .logo {
    width: 64px;
    height: 64px;
    border-radius: 12px;
    background: linear-gradient(135deg, var(--accent1), var(--accent2));
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-weight: 900;
    font-size: 20px;
    box-shadow: 0 8px 40px rgba(255,0,80,0.12);
    font-family: var(--font-primary);
    letter-spacing: 1px;
    
    /* Добавляем дополнительное свечение */
    border: 2px solid rgba(255,255,255,0.1);
    position: relative;
  }

  .logo::before {
    content: '';
    position: absolute;
    top: -2px;
    left: -2px;
    right: -2px;
    bottom: -2px;
    background: linear-gradient(45deg, var(--accent1), var(--accent2), var(--accent1));
    border-radius: 14px;
    z-index: -1;
    opacity: 0.3;
    filter: blur(4px);
  }
  
/* Улучшенный стиль для основного заголовка */
h1 {
  margin: 0;
  font-size: 24px;
  color: #ffffff; /* Белый цвет для лучшей видимости */
  text-shadow: 
    0 0 20px rgba(255,0,80,0.8),
    0 0 40px rgba(255,0,80,0.6),
    2px 2px 4px rgba(0,0,0,0.8); /* Множественные тени */
  font-family: var(--font-primary);
  font-weight: 900;
  letter-spacing: 0.5px;
  
  /* Усиленный фон и рамка */
  padding: 12px 20px;
  background: linear-gradient(90deg, 
    rgba(255,0,80,0.9), 
    rgba(30,140,255,0.9), 
    rgba(255,0,80,0.9)
  );
  border-radius: 12px;
  border: 2px solid rgba(255,255,255,0.3);
  display: inline-block;
  position: relative;
  backdrop-filter: blur(10px);
  box-shadow: 
    0 8px 32px rgba(0,0,0,0.8),
    0 0 20px rgba(255,0,80,0.4),
    inset 0 1px 0 rgba(255,255,255,0.2);
}

@keyframes borderShimmer {
  0% { 
    transform: translateX(-100%) translateY(-100%);
    opacity: 0;
  }
  25% {
    opacity: 1;
  }
  50% {
    transform: translateX(100%) translateY(100%);
    opacity: 1;
  }
  75% {
    opacity: 1;
  }
  100% { 
    transform: translateX(100%) translateY(100%);
    opacity: 0;
  }
}
 */ 
  p.lead{
    margin:0;color:var(--muted);
    font-family: var(--font-primary);
    font-weight: 300;
  }
  
  .card{background:linear-gradient(180deg,rgba(10,10,12,0.92),rgba(6,6,8,0.9));border-radius:14px;padding:20px;margin-top:18px;border:1px solid rgba(255,0,80,0.06);box-shadow:0 12px 40px rgba(0,0,0,0.6)}
  .field{margin-bottom:14px}
  .field label{display:block;color:#cfcfcf;margin-bottom:6px;font-size:14px;font-family: var(--font-primary);font-weight: 500;}
  .centered{display:flex;justify-content:center}
  .centered.left{justify-content:flex-start}
  
  input[type="tel"], input[type="text"], input[type="number"], textarea{
    width:100%;max-width:560px;padding:12px;border-radius:10px;border:none;background:var(--input);color:var(--text);font-size:15px;box-shadow:inset 0 3px 18px rgba(0,0,0,0.6);outline:none;
    font-family: var(--font-primary);
    font-weight: normal;
  }
  input[type="number"]{max-width:200px}
  textarea{min-height:96px;resize:vertical;padding:12px}
  
  /* Улучшенные стили для заголовков секций */
  .section-title {
    margin: 22px 0 12px;
    text-align: center;
    color: var(--accent2);
    font-size: 22px;
    font-weight: 700;
    text-shadow: 0 0 8px rgba(30,140,255,0.08);
    font-family: var(--font-primary);
    letter-spacing: 0.3px;
    
    /* Добавляем подчеркивание и фон для выделения */
    position: relative;
    padding: 8px 16px;
    background: linear-gradient(90deg, rgba(30,140,255,0.1), rgba(255,0,80,0.1));
    border-radius: 8px;
    border: 1px solid rgba(30,140,255,0.2);
  }

  /* Эффект свечения для заголовков */
  .section-title::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, var(--accent2), var(--accent1));
    border-radius: 8px;
    opacity: 0.1;
    z-index: -1;
    filter: blur(8px);
  }
  
  /* Варианты */
  .variant{margin:18px 0;padding:12px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.02));border:1px solid rgba(255,255,255,0.02)}
  .variant-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}
  .variant-title{font-weight:700;color:#d8d8d8;font-family: var(--font-primary);}
  .variant-select{display:flex;gap:8px;align-items:center}
  .photos-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:10px}
  .photo-card{background:linear-gradient(180deg,rgba(18,18,20,0.7),rgba(12,12,14,0.7));border-radius:10px;overflow:hidden;cursor:default;position:relative;border:1px solid rgba(255,255,255,0.03)}
  .photo-thumb{width:100%;aspect-ratio: 1 / 1;background-size:cover;background-position:center}
  @media (min-width: 1024px) { .photo-thumb { width: 300px; /* фиксированная ширина */ margin: 0 auto; /* центрируем */ } }
  .photo-caption{padding:8px;font-size:13px;color:#e6e6e6;text-align:center;font-family: var(--font-primary);}
  
  /* shows grid */
.shows-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 12px;
  margin-top: 12px;
}

.show-card {
  border-radius: 12px;
  overflow: hidden;
  background: linear-gradient(180deg, rgba(18,18,20,0.7), rgba(12,12,14,0.7)); /* Как в сервировке */
  border: 1px solid rgba(255,255,255,0.03);
  display: flex;
  flex-direction: column;
}

.show-media {
  width: 100%;
  aspect-ratio: 1 / 1; /* Квадратные как в сервировке */
  background-size: cover;
  background-position: center;
}

@media (min-width: 1024px) { 
  .show-media { 
    width: 300px; /* фиксированная ширина */
    margin: 0 auto; /* центрируем */
  } 
}

.show-body {
  padding: 12px;
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.show-title {
  font-weight: 700;
  color: #e6e6e6;
  font-size: 14px;
  font-family: var(--font-primary);
}

.show-actions {
  margin-top: auto;
  display: flex;
  gap: 8px;
  align-items: center;
}
  
  /* Улучшенные стили для кнопок */
  .btn {
    padding: 10px 14px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    font-weight: 700;
    color: #fff;
    background: linear-gradient(90deg, var(--accent1), var(--accent2));
    box-shadow: 0 8px 30px rgba(255,0,80,0.08);
    font-family: var(--font-primary);
    font-weight: 700;
    letter-spacing: 0.5px;
    
    /* Добавляем рамку и улучшенное свечение */
    border: 1px solid rgba(255,255,255,0.1);
    position: relative;
    overflow: hidden;
  }

  .btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
    transition: left 0.5s;
  }

  .btn:hover::before {
    left: 100%;
  }
  
  .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#cfcfcf}
  
  .muted{color:var(--muted);font-size:13px;font-family: var(--font-primary);}
  
 /* Улучшенные стили для ссылок */
.links a {
  color: var(--accent2);
  text-decoration: none; /* Убираем подчеркивание */
  font-weight: 600;
  transition: all 0.3s ease;
  padding: 8px 16px;
  border-radius: 8px;
  background: linear-gradient(90deg, rgba(30,140,255,0.1), rgba(255,0,80,0.1));
  border: 1px solid rgba(30,140,255,0.2);
  display: inline-block;
  position: relative;
  font-family: var(--font-primary);
}

.links a:hover {
  background: linear-gradient(90deg, rgba(30,140,255,0.2), rgba(255,0,80,0.2));
  text-shadow: 0 0 8px rgba(30,140,255,0.3);
  border-color: rgba(30,140,255,0.4);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(30,140,255,0.2);
}
  
  .submit-row{display:flex;gap:12px;align-items:center;flex-wrap:wrap;margin-top:18px}
  .result{margin-left:12px;color:#bfeadf;font-weight:700;font-family: var(--font-primary);}
  
  @media (max-width:240px){ .photo-thumb{height:240px} .shows-grid{grid-template-columns:repeat(auto-fit,minmax(180px,1fr))} }
</style>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">PV</div>
      <h1>Сеть клубов Виртуальной Реальности PortalVR</h1>
      <p class="lead">Здесь вы можете выбрать услуги к празднику!</p>
    </header>
    <div class="card" id="mainCard">
      <!-- Форма: телефон/имя/гости -->
      <div class="field">
        <label>Напишите пожалуйста номер телефона, на который вы поставили бронь</label>
        <div class="centered">
          <input id="phone" type="tel" placeholder="+7 (___) ___-__-__">
        </div>
      </div>
      <div class="field">
        <label>Как зовут именинника/цу и сколько исполняется лет?</label>
        <div class="centered">
          <input id="birthdayName" type="text" placeholder="Например: Иван, 7 лет">
        </div>
      </div>
      <div class="field">
        <label>Уточните примерное количество гостей!</label>
        <div class="centered">
          <input id="guests" type="number" placeholder="Например: 12" min="0" step="1">
        </div>
      </div>
      <!-- Секция сервировки -->
      <div class="section-title">Выберите Сервировку Стола</div>
      <div class="section-subtitle" style="text-align: center;">
       Отметьте, какую сервировку стола вы хотели бы видеть у себя на празднике! Стоимость 150 рублей одна персона.
      </div>
      <!-- Контейнер для всех вариантов (генерируется JS) -->
      <div id="servirovkaContainer"></div>
      <!-- Партнёрская еда / кофе -->
      <div style="text-align:center;margin-top:18px">
        <a class="links" href="https://drive.google.com/file/d/1MupYl8y_tfmCNjXZ5ZsN9ycKrKdnVL_H/view?usp=sharing" target="_blank" style="font-weight:700;color:var(--accent2);text-decoration:underline">Заказ еды от партнёров пицца/наггетсы/другое</a>
      </div>
      <div style="text-align:center;margin-top:18px">
        <a class="links" href="https://disk.yandex.ru/d/3wBKih50e0TU_A" target="_blank" style="font-weight:700;color:var(--accent2);text-decoration:underline">Заказ Кофе/Напитков/Десертов</a>
      </div>
      <div class="section-subtitle" style="text-align: center;">
       Скидка на предзаказ 15%
      </div>
      <div style="height:18px"></div>
      <!-- Шары -->
      <div class="section-title" style="margin-top:6px">Оформление воздушными шарами</div>
      <p class="muted">Оформление воздушными шарами уже включено в Пакет «Премиум». Но вы можете приобрести шарики отдельно к любому из тарифов, как дополнительную услугу. Шар-цифра с гелием =1000 Малый фонтан с одной шаром-цифрой =2500 Малый фонтан две цифры =3000 Большой фонтан = 3500 ... Фото носят информативный характер.😉</p>
      <div class="section-title" style="margin-top:6px">Примеры фонтанов из воздушных шаров</div>
      <div id="balloonsContainer" class="photos-grid" style="margin-bottom:8px"></div>
      <!-- Шоу программы -->
      <div class="section-title" style="margin-top:12px">Выберите вариант с шоу программой</div>
      <div id="showsContainer" class="shows-grid"></div>
      <p class="muted" style="margin-top:14px">Напишите ваши пожелания к празднику!:</p>
      <div class="field">
        <textarea id="wishes" placeholder="Например: Без пиротехники, фруктовый торт..."></textarea>
      </div>
      <div class="submit-row">
        <button class="btn" id="sendBtn">Отправить</button>
        <div class="result" id="resultMsg"></div>
      </div>
    </div>
  </div>

<script>
/* =======================
====== DATA ===========
Заполняй ссылки сюда (прямые URL). Все картинки можно заменить на Imgur.
Формат: servirovka[variantIndex] = массив из 3 ссылок
shows = массив объектов {id,title,media,more}
balloons = массив объектов {id,title,price,media}
======================= */
const servirovka = [
  // Вариант 1 (3 фото)
  [
    'https://i.imgur.com/2hIFzdQ.jpeg',
  ],
  // Вариант 2
  [
    'https://i.imgur.com/3lyIYOz.jpeg',
  ],
  
  // Вариант 3
  [
    'https://i.imgur.com/qm4Boeu.jpeg',
  ],
  // Вариант 4
  [
    'https://i.imgur.com/DwUJf1m.jpeg',
  ],
  // Вариант 5
  [
    'https://i.imgur.com/DTIDdmz.jpeg',
  ],
  // Вариант 6
  [
    'https://i.imgur.com/uL8jw6g.jpeg',
  ],
  // Вариант 7
  [
    'https://i.imgur.com/KE81Y85.jpeg',
  ],
  // Вариант 8
  [
    'https://i.imgur.com/X321G1v.jpeg',
  ]
];

// Баллоны (примеры) - обновляем структуру
const balloons = [
  {
    id: 'balloon1',
    title: 'Малый фонтан с одной цифрой/двойная цифра',
    price: '3500 ₽/ 4000 ₽',
    media: 'https://i.imgur.com/8WUxueG.jpeg'
  },
  {
    id: 'balloon2', 
    title: 'Большой фонтан с шаром-цифрой',
    price: '5000 ₽',
    media: 'https://i.imgur.com/8DqS42C.jpeg'
  },
  {
    id: 'balloon3',
    title: 'Два малых фонтана',
    price: '4500 ₽', 
    media: 'https://i.imgur.com/QSFSZG4.jpeg'
  },
  {
    id: 'balloon4',
    title: 'Шар цифра с гелием/двойная цифра',
    price: '1000 ₽/ 1800 ₽',
    media: 'https://i.imgur.com/ODSEYbP.jpeg'
  }
];


// Шоу-программы
const shows = [
  {
    id:'happybd',
    title:'Развлекательная программа "Happy BDay" — 60 мин (8000 ₽)',
    media:'https://i.imgur.com/vuk6Zae.jpeg',
    more:'https://imgur.com/a/60-KBs6Hew'
  },

{
    id:'surprise-box',
    title:'Just Dance - 30 минут (3000 ₽)',
    media:'https://i.imgur.com/ENDB9Cr.png',
    more:'https://imgur.com/a/cXii3y8'
  },

  {
    id:'neon-disco',
    title:'Неоновая дискотека — 30 мин (6000 ₽)',
    media:'https://i.imgur.com/OPv9S9h.jpeg',
    more:'https://imgur.com/a/15-30-62bgO8L'
  },
  {
    id:'pinata',
    title:'Пиньята (3500 ₽)',
    media:'https://i.imgur.com/AVlgFLI.jpeg',
    more:'https://imgur.com/a/eBvy8p3'
  },
  {
    id:'minecraft',
    title:'Челлендж вечеринка - (7000 ₽)',
    media:'https://i.imgur.com/kY1lbJB.jpeg',
    more:'https://imgur.com/a/60-H0lOfmE'
  },

  {
    id:'neon-bubbles',
    title:'Неоновые мыльные пузыри — 60 мин (11000 ₽)',
    media:'https://i.imgur.com/5hETaSu.mp4',
    more:'https://imgur.com/a/x10HsmX'
  },
 
  {
    id:'squid-game',
    title:'Игра в Кальмара — 60 мин (7500 ₽)',
    media:'https://i.imgur.com/x1DhnE9.mp4',
    more:'https://imgur.com/a/kIW0aVU'
  },

  {
    id:'playboom',
    title:'Play Boom — 60 мин (7000 ₽)',
    media:'https://i.imgur.com/BWLlg0c.jpeg',
    more:'https://imgur.com/a/60-dL8B4hS'
  },
  {
    id:'cocktail',
    title:'Коктейль Party — 60 мин (7000 ₽)',
    media:'https://i.imgur.com/bn36QDl.jpeg',
    more:'https://imgur.com/a/60-Q8DAF3I'
  }
];

/* =======================
====== RENDERING ======
======================= */
function createVariantBlock(index, photos){
  const wrap = document.createElement('div');
  wrap.className = 'variant';
  
  // Header: Вариант N + radio для выбора этого варианта
  const header = document.createElement('div');
  header.className = 'variant-header';
  
  const title = document.createElement('div');
  title.className = 'variant-title';
  title.textContent = 'Вариант ' + (index + 1);
  
  // radio для выбора варианта (один из 9)
  const sel = document.createElement('div');
  sel.className = 'variant-select';
  
  const radio = document.createElement('input');
  radio.type = 'radio';
  radio.name = 'selectedVariant';
  radio.value = index;
  // пометим первый вариант выбранным по умолчанию
  if(index === 0) radio.checked = true;
  
  const selLabel = document.createElement('label');
  selLabel.style.color = '#cfcfcf';
  selLabel.style.fontSize = '13px';
  selLabel.textContent = 'Выбрать вариант';
  
  sel.appendChild(radio);
  sel.appendChild(selLabel);
  header.appendChild(title);
  header.appendChild(sel);
  wrap.appendChild(header);
  
  // Photos grid (3 штуки)
  const grid = document.createElement('div');
  grid.className = 'photos-grid';
  
  photos.forEach((src, i) => {
    const card = document.createElement('div');
    card.className = 'photo-card';
    card.innerHTML = `<div class="photo-thumb" style="background-image:url('${src}')"></div>`;
    grid.appendChild(card);
  });
  
  wrap.appendChild(grid);
  return wrap;
}

// Рендерим все 9 вариантов
const servirovkaContainer = document.getElementById('servirovkaContainer');
servirovka.forEach((photos, idx) => {
  servirovkaContainer.appendChild(createVariantBlock(idx, photos));
});

// Рендерим примеры шаров - ИСПРАВЛЯЕМ ВЫРАВНИВАНИЕ И ДОБАВЛЯЕМ ВЫБОР
const balloonsContainer = document.getElementById('balloonsContainer');
balloons.forEach((balloon, i) => {
  const card = document.createElement('div');
  card.className = 'photo-card';
  card.innerHTML = `
    <div class="photo-thumb" style="background-image:url('${balloon.media}')"></div>
    <div class="photo-caption">
      <div style="font-weight: 600; margin-bottom: 8px; font-family: var(--font-primary); text-align: center; min-height: 40px; display: flex; align-items: center; justify-content: center;">${balloon.title}</div>
      <div style="color: var(--accent1); font-weight: 700; font-family: var(--font-primary); text-align: center; margin-bottom: 8px;">${balloon.price}</div>
      <div style="display: flex; align-items: center; justify-content: center; gap: 8px;">
        <input type="radio" name="selectedBalloon" value="${balloon.id}" id="balloon_${balloon.id}">
        <label for="balloon_${balloon.id}" style="color: #cfcfcf; font-size: 13px; font-family: var(--font-primary); cursor: pointer;">Выбрать</label>
      </div>
    </div>`;
  balloonsContainer.appendChild(card);
});

// Рендерим шоу-программы
const showsContainer = document.getElementById('showsContainer');
shows.forEach(s => {
  const div = document.createElement('div');
  div.className = 'show-card';
  div.innerHTML = `<div class="show-media" style="background-image:url('${s.media}')"></div>
                   <div class="show-body">
                     <div class="show-title">${s.title}</div>
                     <div class="show-actions">
                       <label style="display:flex;align-items:center;gap:8px;">
                         <input type="radio" name="show" value="${s.id}">
                         <span style="color:#cfcfcf;font-size:13px">Выбрать</span>
                       </label>
                       <div style="flex:1"></div>
                       <a class="btn ghost" href="${s.more}" target="_blank">Подробнее</a>
                     </div>
                   </div>`;
  showsContainer.appendChild(div);
});

/* ======= simple phone mask (RU) ======= */
(function(){
  const phone = document.getElementById('phone');
  function mask(){
    let val = phone.value.replace(/\D/g,'');
    if(val.startsWith('8')) val = '7' + val.slice(1);
    if(!val.startsWith('7')) val = '7' + val;
    const p1 = val.slice(0,1);
    const p2 = val.slice(1,4);
    const p3 = val.slice(4,7);
    const p4 = val.slice(7,9);
    const p5 = val.slice(9,11);
    let out = '+'+p1;
    if(p2) out += ' ('+p2;
    if(p2 && p2.length===3) out += ')';
    if(p3) out += ' '+p3;
    if(p4) out += '-'+p4;
    if(p5) out += '-'+p5;
    phone.value = out;
  }
  phone.addEventListener('input', mask);
  phone.addEventListener('blur', ()=>{ if(phone.value.length<6) phone.value=''; });
})();

/* ======= SEND (demo) ======= */
document.getElementById('sendBtn').addEventListener('click', function(e){
  e.preventDefault();
  
  // Показываем загрузку
  const btn = document.getElementById('sendBtn');
  const originalText = btn.textContent;
  btn.textContent = 'Отправляем...';
  btn.disabled = true;
  
  const phone = document.getElementById('phone').value.trim();
  const name = document.getElementById('birthdayName').value.trim();
  const guests = document.getElementById('guests').value.trim();
  const wishes = document.getElementById('wishes').value.trim();
  
  // выбранный вариант сервировки
  const selectedVariant = document.querySelector('input[name="selectedVariant"]:checked');
  const variantIndex = selectedVariant ? Number(selectedVariant.value) : null;
  
  // выбранное шоу
  const selectedShow = document.querySelector('input[name="show"]:checked');
  const showId = selectedShow ? selectedShow.value : '';
  
  // выбранный фонтан
  const selectedBalloon = document.querySelector('input[name="selectedBalloon"]:checked');
  const balloonId = selectedBalloon ? selectedBalloon.value : '';
  
  // валидация
  if(!phone){ 
    document.getElementById('resultMsg').textContent='Укажите телефон'; 
    btn.textContent = originalText;
    btn.disabled = false;
    return; 
  }
  if(!name){ 
    document.getElementById('resultMsg').textContent='Укажите имя именинника'; 
    btn.textContent = originalText;
    btn.disabled = false;
    return; 
  }
  
  const payload = { phone, name, guests, variantIndex, showId, balloonId, wishes };
  
  // URL вашего нового Google Apps Script (замените на ваш новый URL)
  const scriptUrl = 'https://script.google.com/macros/s/AKfycbwdfLvY5SzSD2hls_vl3MAl7-NbE3L2CagEDmOgHJ_LhiYaozSLSF5XqpqaNFjFKwHj/exec';
  
  // Отправляем данные
  fetch(scriptUrl, {
    method: 'POST',
    mode: 'no-cors',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify(payload)
  })
  .then(response => {
    // Показываем успех
    document.getElementById('resultMsg').textContent = '✅ Заявка отправлена! Мы свяжемся с вами в ближайшее время.';
    document.getElementById('resultMsg').style.color = '#4CAF50';
    
    // Очищаем форму
    document.getElementById('phone').value = '';
    document.getElementById('birthdayName').value = '';
    document.getElementById('guests').value = '';
    document.getElementById('wishes').value = '';
    
    // Сбрасываем выбор
    if(selectedVariant) selectedVariant.checked = false;
    if(selectedShow) selectedShow.checked = false;
    if(selectedBalloon) selectedBalloon.checked = false;
    
    // Выбираем первый вариант сервировки по умолчанию
    const firstVariant = document.querySelector('input[name="selectedVariant"]');
    if(firstVariant) firstVariant.checked = true;
  })
  .catch(error => {
    console.error('Ошибка отправки:', error);
    document.getElementById('resultMsg').textContent = '❌ Ошибка отправки. Попробуйте еще раз.';
    document.getElementById('resultMsg').style.color = '#f44336';
  })
  .finally(() => {
    // Восстанавливаем кнопку
    btn.textContent = originalText;
    btn.disabled = false;
  });
});
</script>
</body>
</html>
